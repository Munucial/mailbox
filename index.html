<!DOCTYPE HTML>
<html>
    <head>
        <title>MNCmb generator beta</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="html2canvas.min.js"></script>
        <style>
            * {
                max-width: 100%;
            }
            /* div#background-header {
                background-image: url("header.png");
                background-size: 100vw;
                /* height:auto; 
                background-position: center center;
            }
            div#background-footer {
                background-image: url("footer.png");
                background-size: 100vw;
                /* height:auto; 
                background-position: center center;
            } */
            div#background-body {
                background-image: url("body.png");
                background-size: 100vw auto;
                background-position: center;
                background-repeat: repeat-y;
            }
            #content{
                width:95vw;
                margin:auto;
            }
            div#fullcard {
                width:5100px;
                height:6600px;
                width:90vw;
                height:auto;
                margin: auto;
                background: #fff7e0;
            }
            button {
                margin-left:4vw;
            }
        </style>
    </head>
    <body>
        <div id="fullcard">
            <div id="background-header">
                 <img src="header.png" style="width:100%;" /> 
            </div>
            <div id="background-body">
                <div id="content" contenteditable>
                    text here...
                </div>
                <div id="content">
                <br /><hr /><br />
                </div>
                <p id="content">This card is generated by MNCmailbox card generator beta version<br /> Make your own card at munucial.ml/MNCmb/generator/beta</p>
                <br />
            </div>
            <div id="background-footer">
                 <img src="footer.png" style="width:100%;" /> 
            </div>
        </div>
        <br />
        <br />
        <button id="convert">Convert</button>
        <div id="resultdiv">
        </div>
        
        <script>
            function isCanvasSupported(){
              var elem = document.createElement('canvas');
              return !!(elem.getContext && elem.getContext('2d'));
            }
            $("#convert").click(function() {
            //var testdiv = document.getElementById("testdiv");
                html2canvas($("#fullcard"), {
                    dpi:600,
                    onrendered: function(canvas) {
                        if (isCanvasSupported) {
                            document.getElementById("resultdiv").innerHTML = '<br /><br /><hr /><h1 id="resultheader">Result:</h1><br /><canvas id="result"></canvas>';
                            document.body.appendChild(canvas);
                        } else {
                            var myImage = canvas.toDataURL("image/png");
                            window.open(myImage);
                        }
                    }
                });
            });
        </script>
    </body>
</html>
